<workflow-app name="ecfdda-processing" xmlns="uri:oozie:workflow:0.4">
<global>
	<job-tracker>${jobTracker}</job-tracker>
	<name-node>${nameNode}</name-node>
	<configuration>
		<property>
			<name>mapreduce.job.queuename</name>
			<value>${queueName}</value>
		</property>
	</configuration>
</global>
<credentials>
		<credential name="hbase" type="hbase">
			<property>
				<name>hadoop.security.authentication</name>
				<value>kerberos</value>
			</property>
			<property>
				<name>hbase.master.kerberos.principal</name>
				<value>hbase/_HOST@NOS.BOEING.COM</value>
			</property>
			<property>
				<name>hbase.master.keytab.file</name>
				<value>/etc/security/keytabs/hbase.service.keytab</value>
			</property>
			<property>
				<name>hbase.regionserver.kerberos.principal</name>
				<value>hbase/_HOST@NOS.BOEING.COM</value>
			</property>
			<property>
				<name>hbase.regionserver.keytab.file</name>
				<value>/etc/security/keytabs/hbase.service.keytab</value>
			</property>
			<property>
				<name>hbase.rpc.protection</name>
				<value>authentication</value>
			</property>
			<property>
				<name>hbase.security.authentication</name>
				<value>kerberos</value>
			</property>
			<property>
				<name>hbase.security.authorization</name>
				<value>true</value>
			</property>
			<property>
				<name>hbase.superuser</name>
				<value>hbase</value>
			</property>
			<property>
				<name>hbase.zookeeper.property.clientPort</name>
				<value>2181</value>
			</property>
			<property>
				<name>hbase.zookeeper.quorum</name>
				<value>hdo4240-2.ca.boeing.com,hdo4240-3.ca.boeing.com,hdo4240-4.ca.boeing.com</value>
			</property>
			<property>
				<name>hbase.zookeeper.useMulti</name>
				<value>true</value>
			</property>
			<property>
				<name>zookeeper.znode.parent</name>
				<value>/hbase-secure</value>
			</property>
			<property>
				<name>user.name</name>
				<value>svchdphdo4ecfd</value>
			</property>
			<property>
				<name>oozie.authentication.kerberos.keytab</name>
				<value>/etc/security/keytabs/spnego.service.keytab</value>
			</property>
			<property>
				<name>oozie.authentication.kerberos.name.rules</name>
				<value>RULE:[1:$1@$0](.*@AS.NOS.BOEING.COM)s/@.*// RULE:[1:$1@$0](.*@AU.NOS.BOEING.COM)s/@.*// RULE:[1:$1@$0](.*@EU.NOS.BOEING.COM)s/@.*// RULE:[1:$1@$0](.*@MW.NOS.BOEING.COM)s/@.*// RULE:[1:$1@$0](.*@NE.NOS.BOEING.COM)s/@.*// RULE:[1:$1@$0](accumulo-boeinghdo4@NOS.BOEING.COM)s/.*/accumulo/ RULE:[1:$1@$0](ambari-qa-boeinghdo4@NOS.BOEING.COM)s/.*/ambari-qa/ RULE:[1:$1@$0](hbase-boeinghdo4@NOS.BOEING.COM)s/.*/hbase/ RULE:[1:$1@$0](hdfs-boeinghdo4@NOS.BOEING.COM)s/.*/hdfs/ RULE:[1:$1@$0](spark-BOEINGHDO4@NOS.BOEING.COM)s/.*/spark/ RULE:[1:$1@$0](spark-boeinghdo4@NOS.BOEING.COM)s/.*/spark/ RULE:[1:$1@$0](tracer-boeinghdo4@NOS.BOEING.COM)s/.*/accumulo/ RULE:[1:$1@$0](zeppelin-boeinghdo4@NOS.BOEING.COM)s/.*/zeppelin/ RULE:[1:$1@$0](.*@NOS.BOEING.COM)s/@.*// RULE:[1:$1@$0](.*@NW.NOS.BOEING.COM)s/@.*// RULE:[1:$1@$0](.*@SE.NOS.BOEING.COM)s/@.*// RULE:[1:$1@$0](.*@SW.NOS.BOEING.COM)s/@.*// RULE:[2:$1@$0](accumulo@NOS.BOEING.COM)s/.*/accumulo/ RULE:[2:$1@$0](amshbase@NOS.BOEING.COM)s/.*/ams/ RULE:[2:$1@$0](amshbase@NOS.BOEING.COM)s/.*/hbase/ RULE:[2:$1@$0](amszk@NOS.BOEING.COM)s/.*/ams/ RULE:[2:$1@$0](dn@NOS.BOEING.COM)s/.*/hdfs/ RULE:[2:$1@$0](falcon@NOS.BOEING.COM)s/.*/falcon/ RULE:[2:$1@$0](hbase@NOS.BOEING.COM)s/.*/hbase/ RULE:[2:$1@$0](hive@NOS.BOEING.COM)s/.*/hive/ RULE:[2:$1@$0](jhs@NOS.BOEING.COM)s/.*/mapred/ RULE:[2:$1@$0](jn@NOS.BOEING.COM)s/.*/hdfs/ RULE:[2:$1@$0](knox@NOS.BOEING.COM)s/.*/knox/ RULE:[2:$1@$0](livy@NOS.BOEING.COM)s/.*/livy/ RULE:[2:$1@$0](nm@NOS.BOEING.COM)s/.*/yarn/ RULE:[2:$1@$0](nn@NOS.BOEING.COM)s/.*/hdfs/ RULE:[2:$1@$0](oozie@NOS.BOEING.COM)s/.*/oozie/ RULE:[2:$1@$0](rangeradmin@NOS.BOEING.COM)s/.*/ranger/ RULE:[2:$1@$0](rangertagsync@NOS.BOEING.COM)s/.*/rangertagsync/ RULE:[2:$1@$0](rangerusersync@NOS.BOEING.COM)s/.*/rangerusersync/ RULE:[2:$1@$0](rm@NOS.BOEING.COM)s/.*/yarn/ RULE:[2:$1@$0](yarn@NOS.BOEING.COM)s/.*/yarn/ DEFAULT</value>
			</property>
			<property>
				<name>oozie.authentication.kerberos.principal</name>
				<value>HTTP/_HOST@NOS.BOEING.COM</value>
			</property>
			<property>
				<name>oozie.authentication.simple.anonymous.allowed</name>
				<value>true</value>
			</property>
			<property>
				<name>oozie.authentication.type</name>
				<value>kerberos</value>
			</property>
			<property>
				<name>oozie.base.url</name>
				<value>http://hdo4240-2.ca.boeing.com:11000/oozie</value>
			</property>
			<property>
				<name>oozie.credentials.credentialclasses</name>
				<value>hcat=org.apache.oozie.action.hadoop.HCatCredentials,hbase=org.apache.oozie.action.hadoop.HbaseCredentials,hive2=org.apache.oozie.action.hadoop.Hive2Credentials</value>
			</property>
			<property>
				<name>oozie.db.schema.name</name>
				<value>oozie</value>
			</property>
			<property>
				<name>oozie.service.AuthorizationService.authorization.enabled</name>
				<value>true</value>
			</property>
			<property>
				<name>oozie.service.AuthorizationService.security.enabled</name>
				<value>true</value>
			</property>
			<property>
				<name>oozie.service.HadoopAccessorService.hadoop.configurations</name>
				<value>*=/etc/hadoop/conf</value>
			</property>
			<property>
				<name>oozie.service.HadoopAccessorService.kerberos.enabled</name>
				<value>true</value>
			</property>
			<property>
				<name>oozie.service.HadoopAccessorService.kerberos.principal</name>
				<value>oozie/_HOST@NOS.BOEING.COM</value>
			</property>
			<property>
				<name>oozie.service.HadoopAccessorService.keytab.file</name>
				<value>/etc/security/keytabs/oozie.service.keytab</value>
			</property>
		</credential>
	</credentials>
    <start to="HBase_Client_Action"/>
    <action name="HBase_Client_Action" retry-max="1" retry-interval="1" cred="hbase">
        <java>
             <main-class>com.demo.hbase.HBaseClient</main-class>
        </java>
        <ok to="end"/>
        <error to="fail"/>
    </action>
    <kill name="fail">
        <message>Hello World failed, error message[${wf:errorMessage(wf:lastErrorNode())}]</message>
    </kill>
    <end name="end"/>
</workflow-app>